<div class="min-h-screen bg-slate-50">
  <div class="container mx-auto px-4 py-8">
    <div class="mb-8">
      <h1 class="text-4xl font-bold text-slate-900 mb-2">Inventario de Oficina</h1>
      <p class="text-slate-600">Gestiona tus artículos de oficina y niveles de stock</p>
    </div>

    <!-- Loading Spinner -->
    <div *ngIf="loading()" class="flex justify-center items-center py-20">
      <div class="animate-spin rounded-full h-16 w-16 border-4 border-indigo-200 border-t-indigo-600"></div>
    </div>

    <!-- Error Message -->
    <div *ngIf="error() && !loading()" class="bg-red-50 border-l-4 border-red-500 text-red-800 px-6 py-4 rounded-lg mb-6 shadow-sm">
      <div class="flex items-center">
        <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <p class="font-medium">{{ error() }}</p>
      </div>
    </div>

    <!-- Critical Items Alert -->
    <div *ngIf="criticalItems().length > 0 && !loading()" class="bg-amber-50 border-l-4 border-amber-500 text-amber-900 px-6 py-4 rounded-lg mb-6 shadow-sm">
      <div class="flex items-start">
        <svg class="w-6 h-6 mr-3 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
        </svg>
        <div>
          <p class="font-bold text-lg">¡Alerta de Stock Bajo!</p>
          <p class="mt-1">{{ criticalItems().length }} artículo(s) han alcanzado o caído por debajo del nivel crítico de stock.</p>
        </div>
      </div>
    </div>

    <!-- Items Grid -->
    <div *ngIf="!loading() && items().length > 0" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <app-item-card
        *ngFor="let item of items()"
        [item]="item"
        [isCritical]="isCritical(item)"
        (transactionClick)="openTransactionModal(item)">
      </app-item-card>
    </div>

    <!-- Empty State -->
    <div *ngIf="!loading() && items().length === 0" class="text-center py-20">
      <svg class="mx-auto h-24 w-24 text-slate-300 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"></path>
      </svg>
      <p class="text-slate-500 text-xl font-medium">No se encontraron artículos en el inventario</p>
      <p class="text-slate-400 mt-2">Comienza agregando tu primer artículo</p>
    </div>

    <!-- Transaction Modal -->
    <app-transaction-modal
      *ngIf="showModal() && selectedItem()"
      [item]="selectedItem()!"
      (close)="closeModal()"
      (submitTransaction)="onTransactionSubmit($event)">
    </app-transaction-modal>
  </div>
</div>
